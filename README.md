# ShareIt - сервис для обмена вещами

#### ShareIt - это сервис, который позволяет пользователям делиться вещами и арендовать их на определенный период времени.

## Возможности сервиса:
1. Размещение вещей для шеринга: Пользователи могут добавлять свои вещи, которыми они готовы поделиться с другими пользователями.
2. Поиск и аренда вещей: Пользователи могут искать вещи, которые им интересны, и бронировать их на определенные даты
3. Бронирование и блокирование доступа: Сервис позволяет бронировать вещь на определенные даты и автоматически блокировать доступ к ней от других пользователей на это время.
4. Оставление запросов: Если нужной вещи нет в списке, пользователи могут оставить запрос на её наличие. Это позволит другим пользователям добавить новые вещи для шеринга.

## Микросервисная архитектура:
- Gateway. Принимает запросы от пользователей. Распределяет нагрузку, выполняет первичную проверку и направляет запросы дальше в основной сервис
- Server. Серверная часть приложения. Получает запросы, выполняет операции, отправляет данные клиенту
- 
## Описание контроллеров:
## `UserController`:
 - `GET /users`: Получить список всех пользователей.
 - `GET /users/{id}`: Получить информацию о пользователе по его ID.
 - `POST /users`: Зарегистрировать нового пользователя.
 - `PATCH /users/{id}`: Обновить информацию о пользователе по его ID.
 - `DELETE /users/{id}`: Удалить пользователя
## `ItemController`:
 - `GET /items/all`: Получить список всех доступных предметов для шеринга.
 - `GET /items`: Получить список вещей, добавленных текущим пользователем.
 - `GET /items/{id}`: Получить информацию о вещи по её ID.
 - `GET /items/search`: Поиск вещей по текстовому запросу.
 - `POST /items`: Добавить новый предмет для шеринга. Требуется указать заголовок запроса X-Sharer-User-Id, содержащий ID текущего пользователя.
 - `PATCH /items/{itemId}`: Обновить информацию о предмете. Требуется указать заголовок запроса X-Sharer-User-Id, содержащий ID текущего пользователя.
 - `DELETE /items/{id}`: Удалить предмет из списка доступных для шеринга.
## `BookingController`:
- `GET /bookings`: Получить список бронирований пользователя. Требуется указать состояние бронирования, смещение и размер списка, а также заголовок запроса X-Sharer-User-Id с ID текущего пользователя.
- `GET /bookings/owner`: Получить список бронирований, где пользователь является владельцем вещи. Требуется указать состояние бронирования, смещение и размер списка, а также заголовок запроса X-Sharer-User-Id с ID текущего пользователя.
- `GET /bookings/{bookingId}`: Получить информацию о бронировании по его ID. Требуется заголовок запроса X-Sharer-User-Id с ID текущего пользователя.
- `POST /bookings`: Создать бронирование. Требуется отправить данные бронирования и заголовок запроса X-Sharer-User-Id с ID текущего пользователя.
- `PATCH /bookings/{bookingId}`: Обновить статус бронирования. Требуется указать ID бронирования и заголовок запроса X-Sharer-User-Id с ID текущего пользователя.
## `ItemRequestController`:
- `GET /requests`: Получить список всех запросов на предмет, созданных текущим пользователем. Требуется заголовок запроса X-Sharer-User-Id с ID текущего пользователя.
- `GET /requests/all?from={from}&size={size}`: Получить список всех запросов на предмет. Запросы сортируются по дате создания: от более новых к более старым. Результаты должны возвращаться постранично. Для этого нужно передать два параметра: from — индекс первого элемента, начиная с 0, и size — количество элементов для отображения. Требуется заголовок запроса X-Sharer-User-Id с ID текущего пользователя.
- `GET /requests/{requestId}`: олучить данные об одном конкретном запросе вместе с данными об ответах на него в том же формате, что и в эндпоинте. Требуется указать ID запроса на предмет и заголовок запроса X-Sharer-User-Id с ID текущего пользователя.
- `POST /requests`: Создать новый запрос на предмет. Требуется отправить данные запроса на предмет и заголовок запроса X-Sharer-User-Id с ID текущего пользователя.

## Установка и запуск проекта:
- Клонируйте репозиторий проекта:
```bash
git clone https://github.com/AlinaProvotorova/java-shareit.git
```
- Соберите проект:
```bash
mvn clean package
```
- Запустите приложение:
```bash
docker-compose up
```

## Тестирование:
В приложении ShareIt реализованы обширные тесты для обеспечения надежности и правильности его работы:
- Юнит-тесты покрывают ключевые компоненты, включая сервисы и контроллеры.
- Тесты REST-эндпоинтов обеспечивают корректность HTTP-запросов и взаимодействие с внешними системами.
- Тесты репозиториев проверяют слой доступа к базе данных и SQL-запросы.
- Тесты работы с JSON для DTO гарантируют правильность маппинга JSON-объектов.
### Запуск тестов:
Для запуска тестов воспользуйтесь командой в корневом каталоге проекта:
```bash
mvn test
```

## Технологии:
- Java
- Spring Boot
- Docker
- PostgreSQL
- Hibernate
- Lombok
- Maven
- RESTfull API

Автор: [Провоторова Алина Игоревна](https://t.me/alinamalina998)